"use strict";(self.webpackChunktop_weatherapp=self.webpackChunktop_weatherapp||[]).push([[812,261],{262:(t,e,n)=>{let c,o;function a(){const t=document.createElement("img");return t.classList.add("weatherIcon"),t}async function i(){const t=await o(c);if(void 0===t)return void console.log("JSON Fetch failed");console.log("JSON Fetch Success!");const e=document.createElement("div");e.id="container";const n=document.createElement("div");n.id="todaysSection",await s(n,t);const a=document.createElement("div");return a.id="forecastSection",await d(a,t),e.append(n,a),e}async function s(t,e){r(t);const n=document.createElement("div");n.id="leftDiv";const c=document.createElement("div");c.id="infoDiv";const a=document.createElement("h2");a.id="currentCondition",a.textContent=e.condition;const i=document.createElement("h6");i.id="currentLocation",i.textContent=`${e.city}, ${e.region}, ${e.country}`;const d=document.createElement("h1");d.id="currentTemp",d.textContent=`${e.tempF} °F`;const l=document.createElement("button");l.setAttribute("type","button"),l.id="switchUnitsButton",l.textContent="Switch to °C",l.addEventListener("click",(t=>{l.classList.contains("switched")?(d.textContent=`${e.tempF} °F`,l.textContent="Switch to °C",l.classList.toggle("switched")):(d.textContent=`${e.tempC} °C`,l.textContent="Switch to °F",l.classList.toggle("switched")),document.querySelectorAll(".temp").forEach((t=>{t.click()})),t.stopPropagation()})),c.append(a,i,d,l);const m=document.createElement("input");m.id="changeLocationsInput",m.setAttribute("type","search"),m.setAttribute("placeholder","New city..."),m.addEventListener("keypress",(async e=>{if("Enter"===e.code&&""!==m.value&&void 0!==m.value&&null!==m.value){const e=await o(m.value);await s(t,e)}})),n.append(c,m),t.appendChild(n)}async function d(t,e){r(t);const n=l(t,e),c=document.createElement("div");c.id="forecastDiv";const o=document.createElement("div");o.classList.add("dayCard");const a=document.createElement("p");a.classList.add("dayDate"),a.textContent=e.nextDays[0].date;const i=document.createElement("img");i.classList.add("dayIcon"),i.src=e.nextDays[0].iconURL;const s=document.createElement("h4");s.classList.add("dayTemps"),s.classList.add("temp"),s.textContent=`${e.nextDays[0].maxDegF} °F | ${e.nextDays[0].minTempF} °F`,s.addEventListener("click",(t=>{s.classList.contains("clicked")?(s.textContent=`${e.nextDays[0].maxDegF} °F | ${e.nextDays[0].minTempF} °F`,s.classList.toggle("clicked")):(s.textContent=`${e.nextDays[0].maxDegC} °C | ${e.nextDays[0].minTempC} °C`,s.classList.toggle("clicked")),t.stopPropagation()})),o.append(a,i,s);const d=document.createElement("div");d.classList.add("dayCard");const m=document.createElement("p");m.classList.add("dayDate"),m.textContent=e.nextDays[1].date;const u=document.createElement("img");u.classList.add("dayIcon"),u.src=e.nextDays[1].iconURL;const p=document.createElement("h4");p.classList.add("dayTemps"),p.classList.add("temp"),p.textContent=`${e.nextDays[1].maxDegF} °F | ${e.nextDays[1].minTempF} °F`,p.addEventListener("click",(t=>{p.classList.contains("clicked")?(p.textContent=`${e.nextDays[1].maxDegF} °F | ${e.nextDays[1].minTempF} °F`,p.classList.toggle("clicked")):(p.textContent=`${e.nextDays[1].maxDegC} °C | ${e.nextDays[1].minTempC} °C`,p.classList.toggle("clicked")),t.stopPropagation()})),d.append(m,u,p),c.append(o,d),t.append(n,c)}function l(t,e){const n=document.createElement("div");n.id="buttonDiv",document.createElement("div").id="forecastDiv";const c=document.createElement("button");c.setAttribute("type","button"),c.id="dailyButton",c.textContent="Daily",c.addEventListener("click",(async n=>{c.classList.contains("switched")||(await d(t,e),c.classList.toggle("switched"),o.classList.toggle("switched")),n.stopPropagation()}));const o=document.createElement("button");return o.setAttribute("type","button"),o.id="hourlyButton",o.textContent="Hourly",o.addEventListener("click",(async n=>{o.classList.contains("switched")||(await async function(t,e){r(t);const n=l(t,e);let c=1;const o=document.createElement("div");o.classList.add("hourlyPage");const a=document.createElement("div");a.classList.add("hourlyPage");const i=document.createElement("div");i.classList.add("hourlyPage");const s=document.createElement("button");s.setAttribute("type","button"),s.classList.add("pageButton"),s.textContent="<",s.addEventListener("click",(t=>{1!==c&&(c--,1===c&&o.childElementCount>0&&o.childElementCount<=8?(h.removeChild(h.lastChild),h.appendChild(o)):2===c&&a.childElementCount>0&&a.childElementCount<=8?(h.removeChild(h.lastChild),h.appendChild(a)):3===c&&i.childElementCount>0&&i.childElementCount<=8?(h.removeChild(h.lastChild),h.appendChild(i)):c++,t.stopPropagation())}));const d=document.createElement("button");d.setAttribute("type","button"),d.classList.add("pageButton"),d.textContent=">",d.addEventListener("click",(t=>{3!==c&&(c++,1===c&&o.childElementCount>0&&o.childElementCount<=8?(h.removeChild(h.lastChild),h.appendChild(o)):2===c&&a.childElementCount>0&&a.childElementCount<=8?(h.removeChild(h.lastChild),h.appendChild(a)):3===c&&i.childElementCount>0&&i.childElementCount<=8?(h.removeChild(h.lastChild),h.appendChild(i)):c--,t.stopPropagation())}));const m=document.createElement("button");m.setAttribute("type","button"),m.classList.add("pageDot"),m.textContent="•",m.addEventListener("click",(t=>{1!==c&&o.childElementCount>0&&o.childElementCount<=8&&(h.removeChild(h.lastChild),h.appendChild(o),c=1),t.stopPropagation()}));const u=document.createElement("button");u.setAttribute("type","button"),u.classList.add("pageDot"),u.textContent="•",u.addEventListener("click",(t=>{2!==c&&a.childElementCount>0&&a.childElementCount<=8&&(h.removeChild(h.lastChild),h.appendChild(a),c=2),t.stopPropagation()}));const p=document.createElement("button");p.setAttribute("type","button"),p.classList.add("pageDot"),p.textContent="•",p.addEventListener("click",(t=>{3!==c&&i.childElementCount>0&&i.childElementCount<=8&&(h.removeChild(h.lastChild),h.appendChild(i),c=3),t.stopPropagation()}));const h=document.createElement("div");h.id="forecastDiv";for(const t of e.todayHourly){const e=document.createElement("div");e.classList.add("hourCard");const n=document.createElement("p");n.classList.add("hourNum"),n.textContent=t.hour;const c=document.createElement("img");c.classList.add("hourIcon"),c.src=t.iconURL;const s=document.createElement("h4");s.classList.add("hourTemp"),s.classList.add("temp"),s.textContent=`${t.tempF} °F`,s.addEventListener("click",(e=>{s.classList.contains("switched")?(s.textContent=`${t.tempF} °F`,s.classList.toggle("switched")):(s.textContent=`${t.tempF} °C`,s.classList.toggle("switched")),e.stopPropagation()}));const d=document.createElement("p");d.classList.add("hourChanceOfRain"),d.textContent=`${t.chanceOfRain}%`,e.append(n,c,s,d),o.childElementCount<8?o.appendChild(e):a.childElementCount<8?a.appendChild(e):i.appendChild(e)}n.append(s,m),a.childElementCount>0&&a.childElementCount<=8&&n.appendChild(u),i.childElementCount>0&&i.childElementCount<=8&&n.appendChild(p),n.appendChild(d),h.appendChild(o),t.append(n,h)}(t,e),o.classList.toggle("switched"),c.classList.toggle("switched")),n.stopPropagation()})),n.append(c,o),n}function r(t){for(;t.firstChild;)t.removeChild(t.children[0])}n.r(e),n.d(e,{createNewWeatherIcon:()=>a,initialize:()=>i}),({currLocation:c,getWeatherForLocation:o}=n(628))},628:(t,e,n)=>{n.r(e),n.d(e,{currLocation:()=>o,getWeatherForLocation:()=>a});const c="30e3d1a9c51d4f939bf200856231909";let o="Los Angeles";async function a(t){try{return await fetch(`https://api.weatherapi.com/v1/forecast.json?key=${c}&q=${t}&days=3`,{mode:"cors"}).then((e=>{if(e.ok)return o=t,function(t){return t.json().then((t=>({city:t.location.name,region:t.location.region,country:t.location.country,icon:t.current.condition.icon,tempC:t.current.temp_c,tempF:t.current.temp_f,windM:t.current.wind_mph,windK:t.current.wind_kph,windDir:t.current.wind_dir,humidity:t.current.humidity,condition:t.current.condition.text,feelsLikeC:t.current.feelslike_c,feelsLikeF:t.current.feelslike_f,chanceOfRain:t.forecast.forecastday[0].day.daily_chance_of_rain,nextDays:i(t),todayHourly:s(t)})))}(e);throw new Error(`Weather Fetch failed for ${t}`)})).then((t=>t)).catch((t=>{console.error(`Error: ${t.message}`)}))}catch(t){return void console.error(`Error: ${t.message}`)}}function i(t){let e=[];for(const n of t.forecast.forecastday)e.push({date:n.date,iconURL:n.day.condition.icon,maxDegC:n.day.maxtemp_c,maxDegF:n.day.maxtemp_f,minTempC:n.day.mintemp_c,minTempF:n.day.mintemp_f,avgTempC:n.day.avgtemp_c,avgTempF:n.day.avgtemp_f});return e.shift(),e}function s(t){const e=t.location.localtime.split(" ")[1].split(":")[0];let n=[];for(const e of t.forecast.forecastday[0].hour)n.push({hour:e.time.split(" ")[1].split(":")[0],tempC:e.temp_c,tempF:e.temp_f,condition:e.condition.text,iconURL:e.condition.icon,chanceOfRain:e.chance_of_rain});return n.splice(0,parseInt(e)),n}}},t=>{t(t.s=262)}]);